openapi: 3.0.0
paths:
  /user-auth/login:
    post:
      operationId: AuthController_handle
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAuthRequestDTO'
      responses:
        '200':
          description: Authentication successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateAuthResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '401':
          description: Invalid email or password
          content:
            application/json:
              schema:
                example:
                  statusCode: 401
                  message: Invalid email or password
                  error: Unauthorized
                  errorCode: INVALID_EMAIL_OR_PASSWORD
      summary: Authenticate user and return tokens
      tags:
        - Authentication
  /users:
    post:
      operationId: CreateUserController_handle
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUserRequestDTO'
      responses:
        '201':
          description: User created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateUserResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '409':
          description: User already exists
          content:
            application/json:
              schema:
                example:
                  statusCode: 409
                  message: User already exists
                  error: Conflict
                  errorCode: USER_ALREADY_EXISTS
        '500':
          description: User creation failed
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message: User creation failed
                  error: Bad Request
                  errorCode: USER_CREATION_FAILED
      summary: Create new user
      tags:
        - Users
  /user-email-verification/verify:
    get:
      operationId: UserEmailVerificationVerifyController_handle
      parameters:
        - name: email
          required: true
          in: query
          description: Email do usuário que está verificando
          schema:
            example: user@example.com
            type: string
        - name: code
          required: true
          in: query
          description: Código de verificação enviado por email
          schema:
            example: '123456'
            type: string
      responses:
        '200':
          description: Email verificado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserEmailVerificationVerifyResponseDTO'
        '400':
          description: Invalid verification token
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message: Invalid verification token [TOKEN].
                  error: Bad Request
                  errorCode: INVALID_VERIFICATION_TOKEN
        '409':
          description: Email already verified
          content:
            application/json:
              schema:
                example:
                  statusCode: 409
                  message: Email for user [USER_ID] is already verified.
                  error: Conflict
                  errorCode: EMAIL_ALREADY_VERIFIED
      summary: Verificar email do usuário com código
      tags:
        - Verificação de Email
  /user-email-verification/resend:
    post:
      description: Solicita um novo token de verificação para o email especificado. Útil quando o token anterior expirou.
      operationId: UserEmailVerificationResendController_handle
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserEmailVerificationResendRequestDTO'
      responses:
        '200':
          description: Token reenviado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserEmailVerificationResendResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '404':
          description: User email verification not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Email verification not found for email [EMAIL].
                  error: Not Found
                  errorCode: USER_EMAIL_VERIFICATION_NOT_FOUND
        '409':
          description: Email already verified
          content:
            application/json:
              schema:
                example:
                  statusCode: 409
                  message: Email for user [USER_ID] is already verified.
                  error: Conflict
                  errorCode: EMAIL_ALREADY_VERIFIED
      summary: Reenviar token de verificação de email
      tags:
        - Verificação de Email
  /establishments:
    post:
      operationId: EstablishmentCreateController_handle
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EstablishmentCreateRequestDTO'
      responses:
        '201':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentFindOneResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '409':
          description: Establishment phone already exists
          content:
            application/json:
              schema:
                example:
                  statusCode: 409
                  message: Establishment phone already exists
                  error: Conflict
                  errorCode: ESTABLISHMENT_PHONE_ALREADY_EXISTS
      security:
        - bearer: []
      summary: Create a new establishment
      tags:
        - Establishments
    get:
      operationId: EstablishmentFindAllController_handle
      parameters:
        - name: page
          required: false
          in: query
          schema:
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          schema:
            maximum: 50
            example: 10
            type: number
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentFindAllResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
      security:
        - bearer: []
      summary: Find establishments (paginated)
      tags:
        - Establishments
  /establishments/{establishmentId}:
    get:
      operationId: EstablishmentFindOneController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: Establishment ID
          schema:
            example: a1b2c3d4-5678-90ab-cdef-1234567890ab
            type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentFindOneResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
      security:
        - bearer: []
      summary: Find establishment by id
      tags:
        - Establishments
    patch:
      operationId: EstablishmentUpdateController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: Establishment ID
          schema:
            example: a1b2c3d4-5678-90ab-cdef-1234567890ab
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EstablishmentUpdateRequestDTO'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentFindOneResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
      security:
        - bearer: []
      summary: Update an establishment
      tags:
        - Establishments
    delete:
      operationId: EstablishmentDeleteController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: Establishment ID
          schema:
            example: a1b2c3d4-5678-90ab-cdef-1234567890ab
            type: string
      responses:
        '204':
          description: Establishment deleted successfully
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
      security:
        - bearer: []
      summary: Delete establishment by ID
      tags:
        - Establishments
  /establishments/{establishmentId}/evolution-api/instance:
    post:
      operationId: EstablishmentEvolutionApiCreateInstanceController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: Establishment ID
          schema:
            example: a1b2c3d4-5678-90ab-cdef-1234567890ab
            type: string
      responses:
        '201':
          description: Instância criada com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentEvolutionApiCreateInstanceResponseDTO'
        '400':
          description: Dados inválidos
        '401':
          description: Não autorizado
        '404':
          description: Estabelecimento não encontrado
        '500':
          description: Erro interno do servidor
      security:
        - bearer: []
      summary: Criar nova instância na Evolution API para o estabelecimento
      tags:
        - Establishments
  /establishments/{establishmentId}/customers:
    post:
      operationId: EstablishmentCustomerCreateController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          schema:
            example: uuid-estabelecimento
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EstablishmentCustomerCreateRequestDTO'
      responses:
        '201':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentCustomerCreateResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '409':
          description: 'Conflict: customer email or phone already exists'
          content:
            application/json:
              schema:
                oneOf:
                  - example:
                      statusCode: 409
                      message: A customer with email already exists
                      error: Conflict
                      errorCode: ESTABLISHMENT_CUSTOMER_EMAIL_ALREADY_EXISTS
                  - example:
                      statusCode: 409
                      message: A customer with phone already exists
                      error: Conflict
                      errorCode: ESTABLISHMENT_CUSTOMER_PHONE_ALREADY_EXISTS
      security:
        - bearer: []
      summary: Create customer for establishment
      tags:
        - Establishment Customers
    get:
      operationId: EstablishmentCustomerFindAllController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          schema:
            example: uuid-estabelecimento
            type: string
        - name: page
          required: false
          in: query
          schema:
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          schema:
            maximum: 50
            example: 10
            type: number
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentCustomerFindAllResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
      security:
        - bearer: []
      summary: Find all customers (paginated)
      tags:
        - Establishment Customers
  /establishments/{establishmentId}/customers/{customerId}:
    get:
      operationId: EstablishmentCustomerFindByIdController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          schema:
            example: uuid-estabelecimento
            type: string
        - name: customerId
          required: true
          in: path
          schema:
            example: uuid-cliente
            type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentCustomerCreateResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '404':
          description: Establishment customer not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Establishment customer not found
                  error: Not Found
                  errorCode: ESTABLISHMENT_CUSTOMER_NOT_FOUND
      security:
        - bearer: []
      summary: Find customer by ID
      tags:
        - Establishment Customers
    delete:
      operationId: EstablishmentCustomerDeleteController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          schema:
            example: uuid-estabelecimento
            type: string
        - name: customerId
          required: true
          in: path
          schema:
            example: uuid-cliente
            type: string
      responses:
        '204':
          description: Customer deleted successfully
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '404':
          description: Establishment customer not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Establishment customer not found
                  error: Not Found
                  errorCode: ESTABLISHMENT_CUSTOMER_NOT_FOUND
      security:
        - bearer: []
      summary: Delete customer by ID
      tags:
        - Establishment Customers
    patch:
      operationId: EstablishmentCustomerUpdateController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          schema:
            example: uuid-estabelecimento
            type: string
        - name: customerId
          required: true
          in: path
          schema:
            example: uuid-cliente
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EstablishmentCustomerUpdateRequestDTO'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentCustomerUpdateResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '404':
          description: Establishment customer not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Establishment customer not found
                  error: Not Found
                  errorCode: ESTABLISHMENT_CUSTOMER_NOT_FOUND
        '409':
          description: 'Conflict: customer email or phone already exists'
          content:
            application/json:
              schema:
                oneOf:
                  - example:
                      statusCode: 409
                      message: A customer with email already exists
                      error: Conflict
                      errorCode: ESTABLISHMENT_CUSTOMER_EMAIL_ALREADY_EXISTS
                  - example:
                      statusCode: 409
                      message: A customer with phone already exists
                      error: Conflict
                      errorCode: ESTABLISHMENT_CUSTOMER_PHONE_ALREADY_EXISTS
      security:
        - bearer: []
      summary: Update customer by ID
      tags:
        - Establishment Customers
  /establishments/{establishmentId}/products:
    post:
      operationId: EstablishmentProductCreateController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          schema:
            example: uuid-estabelecimento
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EstablishmentProductCreateRequestDTO'
      responses:
        '201':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentProductCreateResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '409':
          description: Establishment product name already exists
          content:
            application/json:
              schema:
                example:
                  statusCode: 409
                  message: Establishment product name already exists
                  error: Conflict
                  errorCode: ESTABLISHMENT_PRODUCT_NAME_ALREADY_EXISTS
      security:
        - bearer: []
      summary: Create product for establishment
      tags:
        - Establishment Products
    get:
      operationId: EstablishmentProductFindAllController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          schema:
            example: uuid-estabelecimento
            type: string
        - name: page
          required: false
          in: query
          schema:
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          schema:
            maximum: 50
            example: 10
            type: number
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentProductFindAllResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
      security:
        - bearer: []
      summary: Find all products (paginated)
      tags:
        - Establishment Products
  /establishments/{establishmentId}/products/{productId}:
    get:
      operationId: EstablishmentProductFindByIdController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: Establishment ID
          schema:
            example: uuid-estabelecimento
            type: string
        - name: productId
          required: true
          in: path
          description: Product ID
          schema:
            example: uuid-produto
            type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentProductCreateResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '404':
          description: Establishment product not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Establishment product not found
                  error: Not Found
                  errorCode: ESTABLISHMENT_PRODUCT_NOT_FOUND
      security:
        - bearer: []
      summary: Find product by ID
      tags:
        - Establishment Products
    delete:
      operationId: EstablishmentProductDeleteController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: Establishment ID
          schema:
            example: uuid-estabelecimento
            type: string
        - name: productId
          required: true
          in: path
          description: Product ID
          schema:
            example: uuid-produto
            type: string
      responses:
        '204':
          description: Product deleted successfully
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '404':
          description: Establishment product not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Establishment product not found
                  error: Not Found
                  errorCode: ESTABLISHMENT_PRODUCT_NOT_FOUND
      security:
        - bearer: []
      summary: Delete product by ID
      tags:
        - Establishment Products
    patch:
      operationId: EstablishmentProductUpdateController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: Establishment ID
          schema:
            example: uuid-estabelecimento
            type: string
        - name: productId
          required: true
          in: path
          description: Product ID
          schema:
            example: uuid-produto
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EstablishmentProductUpdateRequestDTO'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentProductCreateResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '404':
          description: Establishment product not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Establishment product not found
                  error: Not Found
                  errorCode: ESTABLISHMENT_PRODUCT_NOT_FOUND
        '409':
          description: Establishment product name already exists
          content:
            application/json:
              schema:
                example:
                  statusCode: 409
                  message: Establishment product name already exists
                  error: Conflict
                  errorCode: ESTABLISHMENT_PRODUCT_NAME_ALREADY_EXISTS
      security:
        - bearer: []
      summary: Update product by ID
      tags:
        - Establishment Products
  /establishments/{establishmentId}/services:
    post:
      operationId: EstablishmentServiceCreateController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: Establishment ID
          schema:
            example: a1b2c3d4-5678-90ab-cdef-1234567890ab
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EstablishmentServiceCreateRequestDTO'
      responses:
        '201':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentServiceCreateResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '409':
          description: Establishment service name already exists
          content:
            application/json:
              schema:
                example:
                  statusCode: 409
                  message: Establishment service name already exists
                  error: Conflict
                  errorCode: ESTABLISHMENT_SERVICE_NAME_ALREADY_EXISTS
      security:
        - bearer: []
      summary: Create a new establishment service
      tags:
        - Establishment Services
    get:
      operationId: EstablishmentServiceFindAllController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: Establishment ID
          schema:
            example: a1b2c3d4-5678-90ab-cdef-1234567890ab
            type: string
        - name: page
          required: false
          in: query
          schema:
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          schema:
            maximum: 50
            example: 10
            type: number
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentServiceFindAllResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '404':
          description: Establishment not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Establishment not found
                  error: Not Found
                  errorCode: ESTABLISHMENT_NOT_FOUND
      security:
        - bearer: []
      summary: Find all services (paginated)
      tags:
        - Establishment Services
  /establishments/{establishmentId}/services/{serviceId}:
    get:
      operationId: EstablishmentServiceFindByIdController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: Establishment ID
          schema:
            example: a1b2c3d4-5678-90ab-cdef-1234567890ab
            type: string
        - name: serviceId
          required: true
          in: path
          description: Service ID
          schema:
            example: a1b2c3d4-5678-90ab-cdef-1234567890ab
            type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentServiceCreateResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '404':
          description: Establishment service not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Establishment service not found
                  error: Not Found
                  errorCode: ESTABLISHMENT_SERVICE_NOT_FOUND
      security:
        - bearer: []
      summary: Find service by ID
      tags:
        - Establishment Services
    delete:
      operationId: EstablishmentServiceDeleteController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: Establishment ID
          schema:
            example: a1b2c3d4-5678-90ab-cdef-1234567890ab
            type: string
        - name: serviceId
          required: true
          in: path
          description: Service ID
          schema:
            example: a1b2c3d4-5678-90ab-cdef-1234567890ab
            type: string
      responses:
        '204':
          description: Service deleted successfully
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '404':
          description: Establishment service not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Establishment service not found
                  error: Not Found
                  errorCode: ESTABLISHMENT_SERVICE_NOT_FOUND
      security:
        - bearer: []
      summary: Delete service by ID
      tags:
        - Establishment Services
    patch:
      operationId: EstablishmentServiceUpdateController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: Establishment ID
          schema:
            example: a1b2c3d4-5678-90ab-cdef-1234567890ab
            type: string
        - name: serviceId
          required: true
          in: path
          description: Service ID
          schema:
            example: a1b2c3d4-5678-90ab-cdef-1234567890ab
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EstablishmentServiceUpdateRequestDTO'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstablishmentServiceCreateResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Establishment not found or access denied
          content:
            application/json:
              schema:
                example:
                  statusCode: 403
                  message: Establishment not found or access denied
                  error: Forbidden
                  errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '404':
          description: Establishment service not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Establishment service not found
                  error: Not Found
                  errorCode: ESTABLISHMENT_SERVICE_NOT_FOUND
        '409':
          description: Establishment service name already exists
          content:
            application/json:
              schema:
                example:
                  statusCode: 409
                  message: Establishment service name already exists
                  error: Conflict
                  errorCode: ESTABLISHMENT_SERVICE_NAME_ALREADY_EXISTS
      security:
        - bearer: []
      summary: Update service by ID
      tags:
        - Establishment Services
  /establishments/{establishmentId}/members:
    post:
      operationId: MemberCreateController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: The ID of the establishment
          schema:
            example: 550e8400-e29b-41d4-a716-446655440000
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MemberCreateRequestDTO'
      responses:
        '201':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MemberResponseDTO'
        '403':
          description: Establishment not owned by user
          content:
            application/json:
              schema:
                oneOf:
                  - example:
                      statusCode: 403
                      message: Establishment not owned by user
                      error: Forbidden
                      errorCode: ESTABLISHMENT_NOT_OWNED_BY_USER
        '404':
          description: Establishment not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Establishment not found
                  error: Not Found
                  errorCode: ESTABLISHMENT_NOT_FOUND
        '409':
          description: Member email already exists in establishment
          content:
            application/json:
              schema:
                example:
                  statusCode: 409
                  message: A member with email [EMAIL] already exists in establishment [ESTABLISHMENT_ID].
                  error: Conflict
                  errorCode: MEMBER_EMAIL_ALREADY_EXISTS
      security:
        - bearer: []
      summary: Create a new member
      tags:
        - Establishment Members
    get:
      operationId: MemberFindAllController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: The ID of the establishment
          schema:
            example: 550e8400-e29b-41d4-a716-446655440000
            type: string
        - name: page
          required: false
          in: query
          schema:
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          schema:
            maximum: 50
            example: 10
            type: number
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MemberPaginatedResponseDTO'
        '403':
          description: Establishment not owned by user
          content:
            application/json:
              schema:
                oneOf:
                  - example:
                      statusCode: 403
                      message: Establishment not owned by user
                      error: Forbidden
                      errorCode: ESTABLISHMENT_NOT_OWNED_BY_USER
        '404':
          description: Establishment not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Establishment not found
                  error: Not Found
                  errorCode: ESTABLISHMENT_NOT_FOUND
      security:
        - bearer: []
      summary: Find all members with pagination
      tags:
        - Establishment Members
  /establishments/{establishmentId}/members/{memberId}:
    get:
      operationId: MemberFindByIdController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: The ID of the establishment
          schema:
            example: 550e8400-e29b-41d4-a716-446655440000
            type: string
        - name: memberId
          required: true
          in: path
          schema:
            example: 550e8400-e29b-41d4-a716-446655440001
            type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MemberResponseDTO'
        '403':
          description: Establishment not owned by user
          content:
            application/json:
              schema:
                oneOf:
                  - example:
                      statusCode: 403
                      message: Establishment not owned by user
                      error: Forbidden
                      errorCode: ESTABLISHMENT_NOT_OWNED_BY_USER
                  - example:
                      statusCode: 403
                      message: User is not admin in establishment
                      error: Forbidden
                      errorCode: USER_NOT_ADMIN_IN_ESTABLISHMENT
        '404':
          description: Member not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Member with ID [MEMBER_ID] not found in establishment [ESTABLISHMENT_ID].
                  error: Not Found
                  errorCode: MEMBER_NOT_FOUND
      security:
        - bearer: []
      summary: Find member by ID
      tags:
        - Establishment Members
    patch:
      operationId: MemberUpdateController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: The ID of the establishment
          schema:
            example: 550e8400-e29b-41d4-a716-446655440000
            type: string
        - name: memberId
          required: true
          in: path
          schema:
            example: 550e8400-e29b-41d4-a716-446655440001
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MemberUpdateRequestDTO'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MemberResponseDTO'
        '403':
          description: Establishment not owned by user
          content:
            application/json:
              schema:
                oneOf:
                  - example:
                      statusCode: 403
                      message: Establishment not owned by user
                      error: Forbidden
                      errorCode: ESTABLISHMENT_NOT_OWNED_BY_USER
        '404':
          description: Member not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Member with ID [MEMBER_ID] not found in establishment [ESTABLISHMENT_ID].
                  error: Not Found
                  errorCode: MEMBER_NOT_FOUND
        '409':
          description: Member email already exists in establishment
          content:
            application/json:
              schema:
                example:
                  statusCode: 409
                  message: A member with email [EMAIL] already exists in establishment [ESTABLISHMENT_ID].
                  error: Conflict
                  errorCode: MEMBER_EMAIL_ALREADY_EXISTS
      security:
        - bearer: []
      summary: Update member
      tags:
        - Establishment Members
    delete:
      operationId: MemberDeleteController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: The ID of the establishment
          schema:
            example: 550e8400-e29b-41d4-a716-446655440000
            type: string
        - name: memberId
          required: true
          in: path
          schema:
            example: 550e8400-e29b-41d4-a716-446655440001
            type: string
      responses:
        '204':
          description: Member deleted successfully
        '403':
          description: Establishment not owned by user
          content:
            application/json:
              schema:
                oneOf:
                  - example:
                      statusCode: 403
                      message: Establishment not owned by user
                      error: Forbidden
                      errorCode: ESTABLISHMENT_NOT_OWNED_BY_USER
        '404':
          description: Member not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Member with ID [MEMBER_ID] not found in establishment [ESTABLISHMENT_ID].
                  error: Not Found
                  errorCode: MEMBER_NOT_FOUND
      security:
        - bearer: []
      summary: Delete member
      tags:
        - Establishment Members
  /member-email-verification/verify:
    get:
      operationId: MemberEmailVerificationVerifyController_handle
      parameters:
        - name: email
          required: true
          in: query
          description: Email do membro que está verificando
          schema:
            example: membro@example.com
            type: string
        - name: code
          required: true
          in: query
          description: Código de verificação enviado por email
          schema:
            example: '123456'
            type: string
      responses:
        '200':
          description: Email verificado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MemberEmailVerificationVerifyResponseDTO'
        '400':
          description: Invalid verification token
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message: Invalid verification token [TOKEN].
                  error: Bad Request
                  errorCode: INVALID_VERIFICATION_TOKEN
        '409':
          description: Email already verified
          content:
            application/json:
              schema:
                example:
                  statusCode: 409
                  message: Email for user [USER_ID] is already verified.
                  error: Conflict
                  errorCode: EMAIL_ALREADY_VERIFIED
      summary: Verificar email do membro com código
      tags:
        - Verificação de Email - Membro
  /member-email-verification/resend:
    post:
      description: Solicita um novo token de verificação para o email do membro especificado. Útil quando o token anterior expirou.
      operationId: MemberEmailVerificationResendController_handle
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MemberEmailVerificationResendRequestDTO'
      responses:
        '200':
          description: Token reenviado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MemberEmailVerificationResendResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '404':
          description: User email verification not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Email verification not found for email [EMAIL].
                  error: Not Found
                  errorCode: USER_EMAIL_VERIFICATION_NOT_FOUND
        '409':
          description: Email already verified
          content:
            application/json:
              schema:
                example:
                  statusCode: 409
                  message: Email for user [USER_ID] is already verified.
                  error: Conflict
                  errorCode: EMAIL_ALREADY_VERIFIED
      summary: Reenviar token de verificação de email para membro
      tags:
        - Verificação de Email - Membro
  /member-auth/login:
    post:
      operationId: MemberAuthController_handle
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MemberAuthRequestDTO'
      responses:
        '200':
          description: Member authentication successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MemberAuthResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '401':
          description: Invalid email or password
          content:
            application/json:
              schema:
                example:
                  statusCode: 401
                  message: Invalid email or password
                  error: Unauthorized
                  errorCode: INVALID_EMAIL_OR_PASSWORD
        '404':
          description: Member not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Member with ID [MEMBER_ID] not found in establishment [ESTABLISHMENT_ID].
                  error: Not Found
                  errorCode: MEMBER_NOT_FOUND
      summary: Authenticate member and return tokens
      tags:
        - Authentication
  /establishments/{establishmentId}/members/{memberId}/products/{productId}:
    post:
      operationId: MemberProductCreateController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: ID of the establishment
          schema:
            example: uuid-establishment
            type: string
        - name: memberId
          required: true
          in: path
          description: ID of the member
          schema:
            example: uuid-member
            type: string
        - name: productId
          required: true
          in: path
          description: ID of the product
          schema:
            example: product-uuid
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MemberProductCreateRequestDTO'
      responses:
        '201':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MemberProductCreateResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                oneOf:
                  - example:
                      statusCode: 403
                      message: User is not admin in establishment
                      error: Forbidden
                      errorCode: USER_NOT_ADMIN_IN_ESTABLISHMENT
                  - example:
                      statusCode: 403
                      message: User is not a member of the establishment
                      error: Forbidden
                      errorCode: USER_NOT_MEMBER_OF_ESTABLISHMENT
                  - example:
                      statusCode: 403
                      message: Establishment not found or access denied
                      error: Forbidden
                      errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                oneOf:
                  - example:
                      statusCode: 404
                      message: Establishment member not found
                      error: Not Found
                      errorCode: ESTABLISHMENT_MEMBER_NOT_FOUND
                  - example:
                      statusCode: 404
                      message: Establishment product not found
                      error: Not Found
                      errorCode: ESTABLISHMENT_PRODUCT_NOT_FOUND
        '409':
          description: Product already assigned to member in this establishment
          content:
            application/json:
              schema:
                example:
                  statusCode: 409
                  message: >-
                    Product with PRODUCT_ID [PRODUCT_ID] is already assigned to member [USER_ID] in establishment
                    [ESTABLISHMENT_ID].
                  error: Conflict
                  errorCode: MEMBER_PRODUCT_ALREADY_EXISTS
      security:
        - bearer: []
      summary: Assign a product to a member in an establishment
      tags:
        - Member Products
  /establishments/{establishmentId}/members/{memberId}/services/{serviceId}:
    post:
      operationId: MemberServiceCreateController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          description: ID of the establishment
          schema:
            example: uuid-establishment
            type: string
        - name: memberId
          required: true
          in: path
          description: ID of the member
          schema:
            example: uuid-member
            type: string
        - name: serviceId
          required: true
          in: path
          description: ID of the service
          schema:
            example: service-uuid
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MemberServiceCreateRequestDTO'
      responses:
        '201':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MemberServiceCreateResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                oneOf:
                  - example:
                      statusCode: 403
                      message: User is not admin in establishment
                      error: Forbidden
                      errorCode: USER_NOT_ADMIN_IN_ESTABLISHMENT
                  - example:
                      statusCode: 403
                      message: User is not a member of the establishment
                      error: Forbidden
                      errorCode: USER_NOT_MEMBER_OF_ESTABLISHMENT
                  - example:
                      statusCode: 403
                      message: Establishment not found or access denied
                      error: Forbidden
                      errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                oneOf:
                  - example:
                      statusCode: 404
                      message: Establishment member not found
                      error: Not Found
                      errorCode: ESTABLISHMENT_MEMBER_NOT_FOUND
                  - example:
                      statusCode: 404
                      message: Establishment service not found
                      error: Not Found
                      errorCode: ESTABLISHMENT_SERVICE_NOT_FOUND
        '409':
          description: Service already assigned to member in this establishment
          content:
            application/json:
              schema:
                example:
                  statusCode: 409
                  message: >-
                    Service with SERVICE_ID [SERVICE_ID] is already assigned to member [USER_ID] in establishment
                    [ESTABLISHMENT_ID].
                  error: Conflict
                  errorCode: MEMBER_SERVICE_ALREADY_EXISTS
      security:
        - bearer: []
      summary: Assign a service to a member in an establishment
      tags:
        - Member Services
  /establishments/{establishmentId}/members/{memberId}/services:
    get:
      operationId: MemberServiceFindAllController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          schema:
            example: uuid-establishment
            type: string
        - name: memberId
          required: true
          in: path
          schema:
            example: uuid-member
            type: string
        - name: page
          required: false
          in: query
          schema:
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          schema:
            maximum: 50
            example: 10
            type: number
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BasePaginatedResponseDTO'
        '400':
          description: Validation error
          content:
            application/json:
              schema:
                example:
                  statusCode: 400
                  message:
                    - Field X is required
                    - Field Y must be a valid email
                  error: Bad Request
                  errorCode: VALIDATION_ERROR
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                oneOf:
                  - example:
                      statusCode: 403
                      message: User is not admin in establishment
                      error: Forbidden
                      errorCode: USER_NOT_ADMIN_IN_ESTABLISHMENT
                  - example:
                      statusCode: 403
                      message: User is not a member of the establishment
                      error: Forbidden
                      errorCode: USER_NOT_MEMBER_OF_ESTABLISHMENT
                  - example:
                      statusCode: 403
                      message: Establishment not found or access denied
                      error: Forbidden
                      errorCode: ESTABLISHMENT_NOT_FOUND_OR_ACCESS_DENIED
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                oneOf:
                  - example:
                      statusCode: 404
                      message: Establishment member not found
                      error: Not Found
                      errorCode: ESTABLISHMENT_MEMBER_NOT_FOUND
      security:
        - bearer: []
      summary: List all services assigned to a member in an establishment
      tags:
        - Member Services
  /plans:
    post:
      operationId: PlanCreateController_handle
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PlanCreateRequestDTO'
      responses:
        '201':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlanCreateResponseDTO'
      security:
        - bearer: []
      summary: Create a new plan
      tags:
        - Plans
    get:
      operationId: PlanFindAllController_handle
      parameters:
        - name: page
          required: false
          in: query
          schema:
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          schema:
            maximum: 50
            example: 10
            type: number
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlanFindAllResponseDTO'
      summary: List all plans (paginated)
      tags:
        - Plans
  /plans/{id}:
    get:
      operationId: PlanFindByIdController_handle
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlanCreateResponseDTO'
        '404':
          description: Plan not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Plan not found
                  error: Not Found
                  errorCode: PLAN_NOT_FOUND
      security:
        - bearer: []
      summary: Get plan by id
      tags:
        - Plans
    delete:
      operationId: PlanDeleteController_handle
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '204':
          description: Plan deleted successfully
        '404':
          description: Plan not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Plan not found
                  error: Not Found
                  errorCode: PLAN_NOT_FOUND
      security:
        - bearer: []
      summary: Delete plan by id
      tags:
        - Plans
    patch:
      operationId: PlanUpdateController_handle
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PlanUpdateRequestDTO'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlanCreateResponseDTO'
        '404':
          description: Plan not found
          content:
            application/json:
              schema:
                example:
                  statusCode: 404
                  message: Plan not found
                  error: Not Found
                  errorCode: PLAN_NOT_FOUND
      security:
        - bearer: []
      summary: Update plan by id
      tags:
        - Plans
  /establishments/{establishmentId}/subscriptions:
    post:
      operationId: SubscriptionCreateController_handle
      parameters:
        - name: establishmentId
          required: true
          in: path
          schema:
            example: uuid-estabelecimento
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SubscriptionCreateRequestDTO'
      responses:
        '201':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubscriptionCreateResponseDTO'
      security:
        - bearer: []
      summary: Create subscription for establishment
      tags:
        - Subscriptions
  /api/webhook:
    post:
      operationId: WebhookController_handle
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WebhookLogDataDTO'
      responses:
        '200':
          description: Webhook processado com sucesso
          content:
            application/json:
              schema:
                type: string
                example: Webhook recebido com sucesso (roteamento)
        '400':
          description: Dados do webhook inválidos
      summary: Receber webhook de eventos
      tags:
        - Webhook
info:
  title: Barber Shop Manager
  description: Barber Shop Manager system API for barbershop management
  version: '1.0'
  contact: {}
tags: []
servers: []
components:
  securitySchemes:
    bearer:
      scheme: bearer
      bearerFormat: JWT
      type: http
  schemas:
    CreateAuthRequestDTO:
      type: object
      properties:
        email:
          type: string
          example: admin@bytefulcode.tech
          description: The email of the user.
        password:
          type: string
          example: Str0ngP@ssw0rd!
          description: The password of the user.
        ipAddress:
          type: string
          example: 127.0.0.1
          description: The IP address of the user.
        userAgent:
          type: string
          example: >-
            Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110
            Safari/537.36
          description: The user agent of the user.
      required:
        - email
        - password
    CreateAuthResponseDTO:
      type: object
      properties:
        accessToken:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
          description: The access token for the authenticated user.
        refreshToken:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
          description: The refresh token for the authenticated user.
      required:
        - accessToken
        - refreshToken
    CreateUserRequestDTO:
      type: object
      properties:
        name:
          type: string
          example: John Silva
          description: User full name
        email:
          type: string
          example: admin@bytefulcode.tech
          description: User email (will be converted to lowercase)
        password:
          type: string
          example: Str0ngP@ssw0rd!
          description: User password (minimum 6 characters)
        phone:
          type: string
          example: '+5511999999999'
          description: User phone number
      required:
        - name
        - email
        - password
        - phone
    CreateUserResponseDTO:
      type: object
      properties:
        id:
          type: string
          example: cm0abc123def456ghi789
          description: Unique user ID
        name:
          type: string
          example: John Silva
          description: User full name
        email:
          type: string
          example: john.silva@gmail.com
          description: User email
        phone:
          type: string
          example: '+5511999999999'
          description: User phone number
        createdAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
          description: User creation date
        updatedAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
          description: User last update date
      required:
        - id
        - name
        - email
        - phone
        - createdAt
        - updatedAt
    UserEmailVerificationVerifyResponseDTO:
      type: object
      properties:
        id:
          type: string
          example: 550e8400-e29b-41d4-a716-446655440000
          description: ID da verificação de email
        userId:
          type: string
          example: 550e8400-e29b-41d4-a716-446655440000
          description: ID do usuário
        verified:
          type: boolean
          example: true
          description: Indica se o email foi verificado
        expiresAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
          description: Data de expiração do token
        createdAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
          description: Data de criação da verificação
        updatedAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
          description: Data da última atualização
      required:
        - id
        - userId
        - verified
        - expiresAt
        - createdAt
        - updatedAt
    UserEmailVerificationResendRequestDTO:
      type: object
      properties:
        email:
          type: string
          example: usuario@email.com
          description: Email do usuário para reenviar o token de verificação
      required:
        - email
    UserEmailVerificationResendResponseDTO:
      type: object
      properties:
        id:
          type: string
          example: 550e8400-e29b-41d4-a716-446655440000
          description: ID da verificação de email
        userId:
          type: string
          example: 550e8400-e29b-41d4-a716-446655440001
          description: ID do usuário
        email:
          type: string
          example: usuario@email.com
          description: Email do usuário
        verified:
          type: boolean
          example: false
          description: Status de verificação
        expiresAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
          description: Data de expiração do token
        createdAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
          description: Data de criação
        updatedAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
          description: Data de atualização
      required:
        - id
        - userId
        - email
        - verified
        - expiresAt
        - createdAt
        - updatedAt
    EstablishmentCreateRequestDTO:
      type: object
      properties:
        address:
          type: string
          description: Full address of the establishment
          example: 123 Main St, Downtown, São Paulo - SP
          minLength: 1
        name:
          type: string
          description: Name of the establishment
          example: João's Barbershop
          minLength: 1
        phone:
          type: string
          description: Phone number of the establishment
          example: '+5511999999999'
      required:
        - address
        - name
        - phone
    EstablishmentFindOneResponseDTO:
      type: object
      properties:
        id:
          type: string
          description: Establishment ID
          example: a1b2c3d4-5678-90ab-cdef-1234567890ab
        name:
          type: string
          description: Name of the establishment
          example: João's Barbershop
        address:
          type: string
          description: Full address of the establishment
          example: 123 Main St, Downtown, São Paulo - SP
        phone:
          type: string
          description: Phone number of the establishment
          example: '+5511999999999'
        createdAt:
          format: date-time
          type: string
          description: Creation date
          example: '2024-07-03T10:00:00Z'
        updatedAt:
          format: date-time
          type: string
          description: Last update date
          example: '2024-07-03T10:00:00Z'
      required:
        - id
        - name
        - address
        - phone
        - createdAt
        - updatedAt
    MetaTotal:
      type: object
      properties:
        items:
          type: number
          example: 1
        pages:
          type: number
          example: 1
      required:
        - items
        - pages
    Meta:
      type: object
      properties:
        page:
          type: number
          example: 1
        limit:
          type: number
          example: 10
        total:
          $ref: '#/components/schemas/MetaTotal'
      required:
        - page
        - limit
        - total
    EstablishmentFindAllResponseDTO:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/EstablishmentFindOneResponseDTO'
        meta:
          $ref: '#/components/schemas/Meta'
      required:
        - data
        - meta
    EstablishmentUpdateRequestDTO:
      type: object
      properties:
        name:
          type: string
          description: Name of the establishment
          example: João's Barbershop
        address:
          type: string
          description: Full address of the establishment
          example: 123 Main St, Downtown, São Paulo - SP
        phone:
          type: string
          description: Phone number of the establishment
          example: '+5511999999999'
    EstablishmentEvolutionApiCreateInstanceResponseDTO:
      type: object
      properties:
        instance:
          type: object
          example:
            instanceName: establishment_123
            instanceId: 4dce8cb1-f9b6-4275-9879-b43de412c621
            integration: WHATSAPP-BAILEYS
            webhookWaBusiness: null
            accessTokenWaBusiness: ''
            status: connecting
          description: Dados da instância criada
        hash:
          type: string
          example: ACC0F39E-3A30-4CE3-83F3-B2D86E3E776B
          description: Hash da instância
        webhook:
          type: object
          example: {}
          description: Configurações de webhook
        websocket:
          type: object
          example: {}
          description: Configurações de WebSocket
        rabbitmq:
          type: object
          example: {}
          description: Configurações do RabbitMQ
        nats:
          type: object
          example: {}
          description: Configurações do NATS
        sqs:
          type: object
          example: {}
          description: Configurações do SQS
        settings:
          type: object
          example:
            rejectCall: false
            msgCall: ''
            groupsIgnore: false
            alwaysOnline: false
            readMessages: false
            readStatus: false
            syncFullHistory: false
            wavoipToken: ''
          description: Configurações da instância
        qrcode:
          type: object
          example:
            pairingCode: null
            code: >-
              2@/2itoIvUhIMoATNJ9/aG0qinw8ily+EypWfkp/4SaRRf7c0OynASby43iae1cxi8t/jWL7/mXtIHX/1eMDRt1U/1N+jOVCax/uw=,Lacn0MS3LYHLShv+wytezZy8KNwJjwyPqVRUggs+lSU=,AXmzz0JmgUbYgD4N2pUUiiblHbJwU1aZuTxzmHyC2nU=,rVmoSimFKzwhSkDx733dyAjcfoF/HcYEokDIm6VzHEM=
            base64: data:image/png;base64,Lacn0MS3LYHLShv+....
            count: 1
          description: Dados do QR Code
      required:
        - instance
        - hash
        - webhook
        - websocket
        - rabbitmq
        - nats
        - sqs
        - settings
        - qrcode
    EstablishmentCustomerCreateRequestDTO:
      type: object
      properties:
        name:
          type: string
          example: João da Silva
        email:
          type: string
          example: joao@email.com
        phone:
          type: string
          example: '+5511999999999'
      required:
        - name
    EstablishmentCustomerCreateResponseDTO:
      type: object
      properties:
        id:
          type: string
          example: uuid-cliente
        establishmentId:
          type: string
          example: uuid-estabelecimento
        name:
          type: string
          example: João da Silva
        email:
          type: string
          example: joao@email.com
        phone:
          type: string
          example: '+5511999999999'
        createdAt:
          format: date-time
          type: string
          example: '2024-07-03T12:00:00Z'
        updatedAt:
          format: date-time
          type: string
          example: '2024-07-03T12:00:00Z'
      required:
        - id
        - establishmentId
        - name
        - createdAt
        - updatedAt
    EstablishmentCustomerFindAllResponseDTO:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/EstablishmentCustomerCreateResponseDTO'
        meta:
          $ref: '#/components/schemas/Meta'
      required:
        - data
        - meta
    EstablishmentCustomerUpdateRequestDTO:
      type: object
      properties:
        name:
          type: string
          example: João da Silva
        email:
          type: string
          example: joao@email.com
        phone:
          type: string
          example: '+5511999999999'
    EstablishmentCustomerUpdateResponseDTO:
      type: object
      properties:
        id:
          type: string
          example: uuid-cliente
        establishmentId:
          type: string
          example: uuid-estabelecimento
        name:
          type: string
          example: João da Silva
        email:
          type: object
          example: joao@email.com
        phone:
          type: object
          example: '+5511999999999'
        createdAt:
          format: date-time
          type: string
          example: '2024-07-03T12:00:00Z'
        updatedAt:
          format: date-time
          type: string
          example: '2024-07-03T12:00:00Z'
      required:
        - id
        - establishmentId
        - name
        - createdAt
        - updatedAt
    EstablishmentProductCreateRequestDTO:
      type: object
      properties:
        name:
          type: string
          example: Cera Modeladora Efeito Matte
        description:
          type: string
          example: Alta fixação e sem brilho.
        price:
          type: number
          example: 4500
          description: Preço em centavos
        commission:
          type: number
          example: 0.1
          description: 'Comissão (decimal, ex: 0.1 = 10%)'
        stock:
          type: number
          example: 50
          description: Estoque inicial
      required:
        - name
        - price
        - commission
        - stock
    EstablishmentProductCreateResponseDTO:
      type: object
      properties:
        id:
          type: string
          example: uuid-produto
        establishmentId:
          type: string
          example: uuid-estabelecimento
        name:
          type: string
          example: Cera Modeladora Efeito Matte
        description:
          type: string
          example: Alta fixação e sem brilho.
        price:
          type: number
          example: 4500
        commission:
          type: number
          example: 0.1
        stock:
          type: number
          example: 50
        createdAt:
          format: date-time
          type: string
          example: '2024-07-03T12:00:00Z'
        updatedAt:
          format: date-time
          type: string
          example: '2024-07-03T12:00:00Z'
      required:
        - id
        - establishmentId
        - name
        - price
        - commission
        - stock
        - createdAt
        - updatedAt
    EstablishmentProductFindAllResponseDTO:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/EstablishmentProductCreateResponseDTO'
        meta:
          $ref: '#/components/schemas/Meta'
      required:
        - data
        - meta
    EstablishmentProductUpdateRequestDTO:
      type: object
      properties:
        name:
          type: string
          example: Cera Modeladora Efeito Matte
        description:
          type: string
          example: Alta fixação e sem brilho.
        price:
          type: number
          example: 4500
          description: Preço em centavos
        commission:
          type: number
          example: 0.1
          description: 'Comissão (decimal, ex: 0.1 = 10%)'
        stock:
          type: number
          example: 50
          description: Estoque
    EstablishmentServiceCreateRequestDTO:
      type: object
      properties:
        name:
          type: string
          example: Corte Masculino
        description:
          type: string
          example: Corte tradicional masculino com acabamento
        duration:
          type: number
          example: 30
          description: Duração em minutos
        price:
          type: number
          example: 5000
          description: Preço em centavos
        commission:
          type: number
          example: 0.15
          description: 'Comissão em decimal (ex: 0.15 = 15%)'
      required:
        - name
        - duration
        - price
        - commission
    EstablishmentServiceCreateResponseDTO:
      type: object
      properties:
        id:
          type: string
          example: uuid-do-servico
        name:
          type: string
          example: Corte Masculino
        description:
          type: object
          example: Corte tradicional masculino com acabamento
        duration:
          type: number
          example: 30
          description: Duração em minutos
        price:
          type: number
          example: 5000
          description: Preço em centavos
        commission:
          type: number
          example: 0.15
          description: Comissão em decimal
        establishmentId:
          type: string
          example: uuid-do-estabelecimento
        createdAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
        updatedAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
      required:
        - id
        - name
        - description
        - duration
        - price
        - commission
        - establishmentId
        - createdAt
        - updatedAt
    EstablishmentServiceFindAllResponseDTO:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/EstablishmentServiceCreateResponseDTO'
        meta:
          $ref: '#/components/schemas/Meta'
      required:
        - data
        - meta
    EstablishmentServiceUpdateRequestDTO:
      type: object
      properties:
        name:
          type: string
          example: Corte Masculino
        description:
          type: string
          example: Corte de cabelo masculino com tesoura e máquina.
        duration:
          type: number
          example: 30
          description: Duração em minutos
        price:
          type: number
          example: 5000
          description: Preço em centavos
        commission:
          type: number
          example: 0.1
          description: 'Comissão (decimal, ex: 0.1 = 10%)'
    MemberCreateRequestDTO:
      type: object
      properties:
        name:
          type: string
          example: João da Silva
        email:
          type: string
          example: joao@barbearia.com
        phone:
          type: string
          example: '+5511999999999'
        role:
          type: string
          enum:
            - RECEPTIONIST
            - HAIRDRESSER
            - BARBER
          example: BARBER
          description: Role of the member
      required:
        - name
        - email
        - phone
        - role
    MemberResponseDTO:
      type: object
      properties:
        id:
          type: string
          example: 550e8400-e29b-41d4-a716-446655440001
        establishmentId:
          type: string
          example: 550e8400-e29b-41d4-a716-446655440000
        name:
          type: string
          example: João da Silva
        email:
          type: string
          example: joao@barbearia.com
        phone:
          type: string
          example: '+5511999999999'
        role:
          type: string
          enum:
            - RECEPTIONIST
            - HAIRDRESSER
            - BARBER
          example: BARBER
        isActive:
          type: boolean
          example: true
        createdAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
        updatedAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
      required:
        - id
        - name
        - email
        - phone
        - role
        - isActive
        - createdAt
        - updatedAt
    MemberPaginatedResponseDTO:
      type: object
      properties:
        data:
          type: array
          items:
            type: array
        meta:
          $ref: '#/components/schemas/Meta'
      required:
        - data
        - meta
    MemberUpdateRequestDTO:
      type: object
      properties:
        name:
          type: string
          example: João da Silva
        email:
          type: string
          example: joao@barbearia.com
        phone:
          type: string
          example: '+5511999999999'
        role:
          type: string
          enum:
            - RECEPTIONIST
            - HAIRDRESSER
            - BARBER
          example: BARBER
        isActive:
          type: boolean
          example: true
    MemberEmailVerificationVerifyResponseDTO:
      type: object
      properties:
        id:
          type: string
          example: 550e8400-e29b-41d4-a716-446655440000
          description: ID da verificação de email
        memberId:
          type: string
          example: 550e8400-e29b-41d4-a716-446655440000
          description: ID do membro
        verified:
          type: boolean
          example: true
          description: Indica se o email foi verificado
        expiresAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
          description: Data de expiração do token
        createdAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
          description: Data de criação da verificação
        updatedAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
          description: Data da última atualização
      required:
        - id
        - memberId
        - verified
        - expiresAt
        - createdAt
        - updatedAt
    MemberEmailVerificationResendRequestDTO:
      type: object
      properties:
        email:
          type: string
          example: membro@email.com
          description: Email do membro para reenviar o token de verificação
      required:
        - email
    MemberEmailVerificationResendResponseDTO:
      type: object
      properties:
        id:
          type: string
          example: 550e8400-e29b-41d4-a716-446655440000
          description: ID da verificação de email
        memberId:
          type: string
          example: 550e8400-e29b-41d4-a716-446655440001
          description: ID do membro
        email:
          type: string
          example: membro@email.com
          description: Email do membro
        verified:
          type: boolean
          example: false
          description: Status de verificação
        expiresAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
          description: Data de expiração do token
        createdAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
          description: Data de criação
        updatedAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
          description: Data de atualização
      required:
        - id
        - memberId
        - email
        - verified
        - expiresAt
        - createdAt
        - updatedAt
    MemberAuthRequestDTO:
      type: object
      properties:
        email:
          type: string
          example: admin@bytefulcode.tech
          description: The email of the user.
        password:
          type: string
          example: Str0ngP@ssw0rd!
          description: The password of the user.
        ipAddress:
          type: string
          example: 127.0.0.1
          description: The IP address of the user.
        userAgent:
          type: string
          example: >-
            Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110
            Safari/537.36
          description: The user agent of the user.
      required:
        - email
        - password
    MemberAuthResponseDTO:
      type: object
      properties:
        accessToken:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
          description: The access token for the authenticated user.
        refreshToken:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
          description: The refresh token for the authenticated user.
      required:
        - accessToken
        - refreshToken
    MemberProductCreateRequestDTO:
      type: object
      properties:
        price:
          type: number
          example: 5000
          description: Price in cents
        commission:
          type: number
          example: 0.15
          description: Commission as decimal (e.g., 0.15 = 15%)
      required:
        - price
        - commission
    MemberProductCreateResponseDTO:
      type: object
      properties:
        id:
          type: string
          example: member-product-uuid
        memberId:
          type: string
          example: member-uuid
        establishmentId:
          type: string
          example: establishment-uuid
        productId:
          type: string
          example: product-uuid
        price:
          type: number
          example: 5000
          description: Price in cents
        commission:
          type: number
          example: 0.15
          description: Commission as decimal (e.g., 0.15 = 15%)
        createdAt:
          format: date-time
          type: string
          example: '2024-07-03T10:00:00Z'
        updatedAt:
          format: date-time
          type: string
          example: '2024-07-03T10:00:00Z'
      required:
        - id
        - memberId
        - establishmentId
        - productId
        - price
        - commission
        - createdAt
        - updatedAt
    MemberServiceCreateRequestDTO:
      type: object
      properties:
        price:
          type: number
          example: 5000
          description: Price in cents
        commission:
          type: number
          example: 0.15
          description: Commission as decimal (e.g., 0.15 = 15%)
        duration:
          type: number
          example: 30
          description: Duration in minutes
      required:
        - price
        - commission
        - duration
    MemberServiceCreateResponseDTO:
      type: object
      properties:
        id:
          type: string
          example: member-service-uuid
        memberId:
          type: string
          example: member-uuid
        establishmentId:
          type: string
          example: establishment-uuid
        serviceId:
          type: string
          example: service-uuid
        price:
          type: number
          example: 5000
          description: Price in cents
        commission:
          type: number
          example: 0.15
          description: Commission as decimal (e.g., 0.15 = 15%)
        duration:
          type: number
          example: 120
          description: Duration in minutes
        createdAt:
          format: date-time
          type: string
          example: '2024-07-03T10:00:00Z'
        updatedAt:
          format: date-time
          type: string
          example: '2024-07-03T10:00:00Z'
      required:
        - id
        - memberId
        - establishmentId
        - serviceId
        - price
        - commission
        - duration
        - createdAt
        - updatedAt
    BasePaginatedResponseDTO:
      type: object
      properties:
        data:
          type: array
          items:
            type: array
        meta:
          $ref: '#/components/schemas/Meta'
      required:
        - data
        - meta
    PlanCreateRequestDTO:
      type: object
      properties:
        name:
          type: string
          example: Atendimento A.I.
        description:
          type: string
          example: Plano para uso do serviço de atendimento com inteligência artificial
        price:
          type: number
          example: 1999
        duration:
          type: number
          example: 30
        isActive:
          type: boolean
          example: true
      required:
        - name
        - price
        - duration
    PlanCreateResponseDTO:
      type: object
      properties:
        id:
          type: string
          example: uuid-do-plano
        name:
          type: string
          example: Atendimento A.I.
        description:
          type: object
          example: Plano para uso do serviço de atendimento com inteligência artificial
        price:
          type: number
          example: 1999
        duration:
          type: number
          example: 30
        isActive:
          type: boolean
          example: true
        createdAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
        updatedAt:
          format: date-time
          type: string
          example: '2024-01-21T10:00:00Z'
      required:
        - id
        - name
        - price
        - duration
        - isActive
        - createdAt
        - updatedAt
    PlanFindAllResponseDTO:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/PlanCreateResponseDTO'
        meta:
          $ref: '#/components/schemas/Meta'
      required:
        - data
        - meta
    PlanUpdateRequestDTO:
      type: object
      properties:
        name:
          type: string
          example: Atendimento A.I.
        description:
          type: string
          example: Plano para uso do serviço de atendimento com inteligência artificial
        price:
          type: number
          example: 1999
        duration:
          type: number
          example: 30
        isActive:
          type: boolean
          example: true
    SubscriptionCreateRequestDTO:
      type: object
      properties:
        establishmentId:
          type: string
          example: uuid-do-estabelecimento
        planId:
          type: string
          example: uuid-do-plano
        startDate:
          type: string
          example: '2024-07-20T00:00:00Z'
        endDate:
          type: string
          example: '2024-08-20T00:00:00Z'
        paid:
          type: boolean
          example: true
        phone:
          type: string
          example: '5511999999999'
      required:
        - establishmentId
        - planId
        - startDate
        - endDate
        - paid
        - phone
    SubscriptionCreateResponseDTO:
      type: object
      properties:
        id:
          type: string
          example: uuid-da-assinatura
        establishmentId:
          type: string
          example: uuid-do-estabelecimento
        planId:
          type: string
          example: uuid-do-plano
        startDate:
          type: string
          example: '2024-07-20T00:00:00Z'
        endDate:
          type: string
          example: '2024-08-20T00:00:00Z'
        paid:
          type: boolean
          example: true
        phone:
          type: string
          example: '5511999999999'
        createdAt:
          type: string
          example: '2024-07-20T00:00:00Z'
        updatedAt:
          type: string
          example: '2024-07-20T00:00:00Z'
      required:
        - id
        - establishmentId
        - planId
        - startDate
        - endDate
        - paid
        - phone
        - createdAt
        - updatedAt
    WebhookLogDataDTO:
      type: object
      properties:
        local:
          type: string
          example: local-instance
        url:
          type: string
          example: https://api.example.com/webhook
        event:
          type: string
          enum:
            - application.startup
            - instance.create
            - instance.delete
            - qrcode.updated
            - connection.update
            - status.instance
            - messages.set
            - messages.upsert
            - messages.edited
            - messages.update
            - messages.delete
            - send.message
            - send.message.update
            - contacts.set
            - contacts.upsert
            - contacts.update
            - presence.update
            - chats.set
            - chats.update
            - chats.upsert
            - chats.delete
            - groups.upsert
            - groups.update
            - group-participants.update
            - call
            - typebot.start
            - typebot.change-status
            - labels.edit
            - labels.association
            - creds.update
            - messaging-history.set
            - remove.instance
            - logout.instance
          example: messages.upsert
          description: Tipo do evento do webhook
        instance:
          type: string
          example: instance-123
          description: ID da instância
        data:
          type: object
          example:
            message: Hello world
          description: Dados do evento
        destination:
          type: string
          example: destination-456
          description: Destino do webhook
        date_time:
          type: string
          example: '2024-01-21T10:00:00Z'
          description: Data e hora do evento
        sender:
          type: string
          example: '+5511999999999'
          description: Número do telefone do remetente
        server_url:
          type: string
          example: https://server.example.com
          description: URL do servidor
        apikey:
          type: string
          example: api-key-123
          description: Chave da API
      required:
        - event
        - instance
        - data
        - destination
        - date_time
        - sender
        - server_url
        - apikey
